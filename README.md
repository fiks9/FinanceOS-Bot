# FinanceOS Bot ğŸ¤–

Telegram-Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Ğ¾ÑĞ¾Ğ±Ğ¸ÑÑ‚Ğ¸Ñ… Ñ„Ñ–Ğ½Ğ°Ğ½ÑÑ–Ğ² Ğ· AI-Ğ°Ğ½Ğ°Ğ»Ñ–Ñ‚Ğ¸ĞºĞ¾Ñ, Ğ¿Ğ¾Ğ±ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ½Ğ° Ğ±Ğ°Ğ·Ñ– **aiogram 3** + **Supabase** + **Groq (LLaMA 3)**.

---

## Ğ©Ğ¾ Ğ²Ğ¼Ñ–Ñ”

- **ĞĞ±Ğ»Ñ–Ğº Ğ²Ğ¸Ñ‚Ñ€Ğ°Ñ‚ Ñ– Ğ´Ğ¾Ñ…Ğ¾Ğ´Ñ–Ğ²** â€” Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¸ÑˆĞµÑˆ Ñƒ Ñ‡Ğ°Ñ‚ "Ğ²Ğ¸Ñ‚Ñ€Ğ°Ñ‚Ğ¸Ğ² 350 Ğ½Ğ° ĞºĞ°Ğ²Ñƒ" â€” Ğ±Ğ¾Ñ‚ Ñ€Ğ¾Ğ·Ğ¿Ñ–Ğ·Ğ½Ğ°Ñ” ÑÑƒĞ¼Ñƒ, ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ Ñ– Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ” Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ñ–Ñ
- **Ğ¤Ñ–Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ– Ñ†Ñ–Ğ»Ñ–** â€” ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ñ†Ñ–Ğ»ĞµĞ¹ Ñ–Ğ· Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½Ğ¾Ğ¼, Ğ²Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑƒ, Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ğ½Ğ°ĞºĞ¾Ğ¿Ğ¸Ñ‡ĞµĞ½ÑŒ
- **ĞĞ½Ğ°Ğ»Ñ–Ğ· CSV/PDF Ğ²Ğ¸Ğ¿Ğ¸ÑĞ¾Ğº** â€” Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ”Ñˆ Ğ²Ğ¸Ğ¿Ğ¸ÑĞºÑƒ Ğ· Ğ±Ğ°Ğ½ĞºÑƒ, Ğ±Ğ¾Ñ‚ Ñ€Ğ¾Ğ·Ğ±Ğ¸Ñ€Ğ°Ñ” Ñ—Ñ— Ñ– Ğ·Ğ°Ğ½Ğ¾ÑĞ¸Ñ‚ÑŒ Ñƒ Ğ‘Ğ”
- **AI-Ñ„Ñ–Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ğ¸Ğ¹ Ñ€Ğ°Ğ´Ğ½Ğ¸Ğº** â€” Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ” Ğ½Ğ° Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¾ Ñ‚Ğ²Ğ¾Ñ— Ğ²Ğ¸Ñ‚Ñ€Ğ°Ñ‚Ğ¸, Ñ„Ğ¾Ñ€Ğ¼ÑƒÑ” Ñ‰Ğ¾Ñ‚Ğ¸Ğ¶Ğ½ĞµĞ²Ğ¸Ğ¹ Ğ´Ğ°Ğ¹Ğ´Ğ¶ĞµÑÑ‚
- **Natural language parsing** â€” Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ñ” "25Ğº", "Ğ¿Ñ–Ğ² Ğ¼Ñ–Ğ»ÑŒĞ¹Ğ¾Ğ½Ğ°", "Ğ´Ğ²Ğ°Ğ´Ñ†ÑÑ‚ÑŒ Ñ‚Ğ¸ÑÑÑ‡ Ğ³Ñ€Ğ½"

---

## Ğ¡Ñ‚ĞµĞº

| Ğ¨Ğ°Ñ€ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ |
|---|---|
| Bot framework | [aiogram 3.x](https://docs.aiogram.dev/) |
| LLM | [Groq API](https://console.groq.com/) â€” LLaMA 3.3 70B / 3.1 8B |
| Database | [Supabase](https://supabase.com/) (PostgreSQL + REST API) |
| LLM orchestration | LangChain |
| Embeddings | sentence-transformers (`all-MiniLM-L6-v2`) |
| Config | pydantic-settings |
| Scheduler | APScheduler (cron) |
| Logging | loguru |
| Deployment | Railway (worker) |

---

## Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğµ Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ

### 1. ĞšĞ»Ğ¾Ğ½ÑƒÑ”Ğ¼Ğ¾ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ğ¹

```bash
git clone https://github.com/fiks9/finance-os-bot.git
cd finance-os-bot
```

### 2. Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ”Ğ¼Ğ¾ Ñ‚Ğ° Ğ°ĞºÑ‚Ğ¸Ğ²ÑƒÑ”Ğ¼Ğ¾ Ğ²Ñ–Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğµ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğµ

```bash
# Windows
python -m venv .venv
.venv\Scripts\activate

# macOS / Linux
python3 -m venv .venv
source .venv/bin/activate
```

### 3. Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ÑÑ”Ğ¼Ğ¾ Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–

```bash
pip install -r requirements.txt
```

### 4. ĞĞ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ `.env`

```bash
cp .env.example .env
```

Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ğ¹ `.env` Ñ– Ğ·Ğ°Ğ¿Ğ¾Ğ²Ğ½Ğ¸ Ğ²ÑÑ– Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ (Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ–ÑˆĞµ â€” Ñƒ ÑĞµĞºÑ†Ñ–Ñ— Ğ½Ğ¸Ğ¶Ñ‡Ğµ).

### 5. Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°Ñ”Ğ¼Ğ¾ Ğ±Ğ¾Ñ‚Ğ°

```bash
python -m bot.run
```

---

## ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ (`.env`)

```env
# Telegram
BOT_TOKEN=1234567890:AAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Groq API (https://console.groq.com â†’ API Keys)
GROQ_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxx
GROQ_MODEL_SMART=llama-3.3-70b-versatile
GROQ_MODEL_FAST=llama-3.1-8b-instant

# Supabase (Project Settings â†’ API)
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# App
LOG_LEVEL=INFO          # DEBUG | INFO | WARNING | ERROR
ENVIRONMENT=development # development | production
```

> **Ğ’Ğ°Ğ¶Ğ»Ğ¸Ğ²Ğ¾:** Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ¹ `service_role` ĞºĞ»ÑÑ‡ Ğ´Ğ»Ñ Supabase, Ğ½Ğµ `anon`. Service role bypass-ÑƒÑ” RLS â€” Ğ±Ğ¾Ñ‚ Ğ·Ğ¼Ğ¾Ğ¶Ğµ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚Ğ¸/Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ Ğ´Ğ°Ğ½Ñ– Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ğ³Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°.

---

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ

```
FinanceOS Bot/
â”œâ”€â”€ bot/
â”‚   â”œâ”€â”€ run.py              # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ñƒ
â”‚   â”œâ”€â”€ setup.py            # Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Bot, Dispatcher, middleware
â”‚   â”œâ”€â”€ config.py           # Pydantic Settings
â”‚   â”œâ”€â”€ routers/            # aiogram Ñ€Ğ¾ÑƒÑ‚ĞµÑ€Ğ¸ (budget, goals, ai_chat, ...)
â”‚   â”œâ”€â”€ middlewares/        # Auth + DB middleware
â”‚   â”œâ”€â”€ keyboards.py        # Inline/Reply ĞºĞ»Ğ°Ğ²Ñ–Ğ°Ñ‚ÑƒÑ€Ğ¸
â”‚   â”œâ”€â”€ states.py           # FSM ÑÑ‚Ğ°Ğ½Ğ¸
â”‚   â””â”€â”€ scheduler.py        # APScheduler (weekly digest)
â”œâ”€â”€ ai/
â”‚   â”œâ”€â”€ llm.py              # ChatGroq Ñ„Ğ°Ğ±Ñ€Ğ¸ĞºĞ° (SMART + FAST)
â”‚   â”œâ”€â”€ intent.py           # Ğ’Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ½Ğ°Ğ¼Ñ–Ñ€Ñƒ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°
â”‚   â”œâ”€â”€ advisor.py          # AI-Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ– Ğ½Ğ° Ñ„Ñ–Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ– Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ
â”‚   â”œâ”€â”€ csv_parser.py       # ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ±Ğ°Ğ½ĞºÑ–Ğ²ÑÑŒĞºĞ¸Ñ… CSV Ğ²Ğ¸Ğ¿Ğ¸ÑĞ¾Ğº
â”‚   â”œâ”€â”€ pdf_parser.py       # ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ PDF Ğ²Ğ¸Ğ¿Ğ¸ÑĞ¾Ğº
â”‚   â””â”€â”€ digest.py           # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ weekly digest
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ client.py           # Supabase async singleton
â”‚   â”œâ”€â”€ repository.py       # Ğ’ÑÑ– Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ¸ Ğ´Ğ¾ Ğ‘Ğ”
â”‚   â””â”€â”€ schema.sql          # SQL-ÑÑ…ĞµĞ¼Ğ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†ÑŒ
â”œâ”€â”€ models/
â”‚   â””â”€â”€ schemas.py          # Pydantic-Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–
â”œâ”€â”€ .env.example
â”œâ”€â”€ Procfile                # Railway: worker: python -m bot.run
â””â”€â”€ requirements.txt
```

---

## Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹

Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ° Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ Ğ· Ğ´ĞµĞ¿Ğ»Ğ¾Ñ Ğ½Ğ° Railway â€” Ñƒ Ñ„Ğ°Ğ¹Ğ»Ñ– **[DEPLOY.md](DEPLOY.md)**.

---

## Ğ›Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ñ

Ğ¦ĞµĞ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ¿Ğ¾ÑˆĞ¸Ñ€ÑÑ”Ñ‚ÑŒÑÑ Ğ¿Ñ–Ğ´ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ñ”Ñ [MIT](LICENSE).
