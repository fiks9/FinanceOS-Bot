def fmt_amt(val: float | int | None) -> str:
    """
    Форматує суму так, щоб прибрати десяткові, якщо це ціле число, 
    але зберігати 2 знаки (копійки), якщо вони є.
    1000.0 -> "1 000"
    1000.5 -> "1 000.50"
    1000.55 -> "1 000.55"
    """
    if val is None:
        return "0"
    
    # Якщо ціле число (напр., 1000.0) -> виводимо без крапки
    if val == int(val):
        s = f"{int(val):,}"
    else:
        # Інакше виводимо з 2 знаками
        s = f"{val:,.2f}"
        
    return s.replace(",", " ")
